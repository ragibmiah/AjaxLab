@{
    ViewBag.Title = "Home Page";
}

<div style="float:">
Author:
<input  type="text" id="author" class="form-control"
       oninput="searchbyauthor()" />
<!-- input type="button" id="search" value="Search by City"
        class="btn btn-default" onclick="search()" /-->
<table class="table table-striped" id="books">
    <!-- this is the inner HTML for #customers -->
</table>
<script type="text/javascript"
        src="~/Scripts/jquery-1.10.2.min.js"></script>
</div>
<div style="float:left">
Title:
<input type="text" id="title" class="form-control"
       oninput="searchbytitle()" />
<!-- input type="button" id="search" value="Search by City"
        class="btn btn-default" onclick="search()" /-->
<table class="table table-striped" id="books">
    <!-- this is the inner HTML for #customers -->
</table>
<script type="text/javascript"
        src="~/Scripts/jquery-1.10.2.min.js"></script>
</div>
<div style="float:left">
Year:
<input type="text" id="year" class="form-control"
       oninput="searchbyyear()" />
<!-- input type="button" id="search" value="Search by City"
        class="btn btn-default" onclick="search()" /-->
<table class="table table-striped" id="books">
    <!-- this is the inner HTML for #customers -->
</table>
<script type="text/javascript"
        src="~/Scripts/jquery-1.10.2.min.js"></script>
</div>


<script>
    function searchbyauthor() {
        $.ajax(
            {
                type: 'POST',
                url: '/Home/GetAuthor',
                data: '{author: "' + document.getElementById("author").value
                + '"}',
                contentType: 'application/json; charset-utf-8',
                dataType: 'json',
                success:
                function (response) {
                    var tableHTML = "<tr><th>Title</th>"
                        + "<th>Author</th>"
                        + "<th>Genre</th>"
                        + "<th>Year Published</th></tr>";
                    for (var i = 0; i < response.length; i++) {
                        var Author = response[i];
                        var tr = "<tr><td>" + Author.Title + "</td>"
                            + "<td>" + Author.Author + "</td>"
                            + "<td>" + Author.Genre + "</td>"
                            + "<td>" + Author.YearPublished + "</td>"
                            + "</tr>";
                        tableHTML += tr;
                    }
                    document.getElementById("books")
                        .innerHTML = tableHTML;
                },
                failure: function (response) {
                    alert("Failure" + response.responseText);
                },
                error: function (response) {
                    alert("Error" + response.responseText);
                }
            }

        );
    }
    function searchbytitle() {
        $.ajax(
            {
                type: 'POST',
                url: '/Home/GetTitle',
                data: '{title: "' + document.getElementById("title").value
                + '"}',
                contentType: 'application/json; charset-utf-8',
                dataType: 'json',
                success:
                function (response) {
                    var tableHTML = "<tr><th>Title</th>"
                        + "<th>Author</th>"
                        + "<th>Genre</th>"
                        + "<th>Year Published</th></tr>";
                    for (var i = 0; i < response.length; i++) {
                        var Title = response[i];
                        var tr = "<tr><td>" + Title.Title + "</td>"
                            + "<td>" + Title.Author + "</td>"
                            + "<td>" + Title.Genre + "</td>"
                            + "<td>" + Title.YearPublished + "</td>"
                            + "</tr>";
                        tableHTML += tr;
                    }
                    document.getElementById("books")
                        .innerHTML = tableHTML;
                },
                failure: function (response) {
                    alert("Failure" + response.responseText);
                },
                error: function (response) {
                    alert("Error" + response.responseText);
                }
            }

        );
    }
    function searchbyyear() {
        $.ajax(
            {
                type: 'POST',
                url: '/Home/GetYear',
                data: '{year: "' + document.getElementById("year").value
                + '"}',
                contentType: 'application/json; charset-utf-8',
                dataType: 'json',
                success:
                function (response) {
                    var tableHTML = "<tr><th>Title</th>"
                        + "<th>Author</th>"
                        + "<th>Genre</th>"
                        + "<th>Year Published</th></tr>";
                    for (var i = 0; i < response.length; i++) {
                        var Year = response[i];
                        var tr = "<tr><td>" + Year.Title + "</td>"
                            + "<td>" + Year.Author + "</td>"
                            + "<td>" + Year.Genre + "</td>"
                            + "<td>" + Year.YearPublished + "</td>"
                            + "</tr>";
                        tableHTML += tr;
                    }
                    document.getElementById("books")
                        .innerHTML = tableHTML;
                },
                failure: function (response) {
                    alert("Failure" + response.responseText);
                },
                error: function (response) {
                    alert("Error" + response.responseText);
                }
            }

        );
    }
</script>